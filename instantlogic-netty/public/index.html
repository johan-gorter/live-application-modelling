<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Instantlogic-netty test page</title>

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/yui-3.5.1/cssreset/cssreset-min.css">
<link rel="stylesheet" type="text/css" href="/yui-3.5.1/cssfonts/cssfonts-min.css">
<link rel="stylesheet" type="text/css" href="/yui-3.5.1/cssbase/cssbase-min.css">

<link rel="stylesheet" type="text/css" href="style/presence.css">
<link rel="stylesheet" type="text/css" href="style/margin.css">
<link rel="stylesheet" type="text/css" href="style/designer.css">
<link rel="stylesheet" type="text/css" href="style/izzy.css">

<!-- JS -->
<script type="text/javascript" src="/yui-3.5.1/yui/yui.js"></script>
<script type="text/javascript" src="/html.js"></script>
<script type="text/javascript" src="/instantlogic.js"></script>
<script type="text/javascript" src="/instantlogic-presence.js"></script>
<script type="text/javascript" src="/instantlogic-fragments.js"></script>
<script type="text/javascript" src="/instantlogic-answers.js"></script>

<script type="text/javascript">
	var travelerId = ''+Math.floor(Math.random()*100000000000);

	YUI({filter: 'raw'}).use('node', 'instantlogic', 'instantlogic-presence', 'instantlogic-fragments', 'instantlogic-answers', 'html', 'history', function(Y) {
        var applicationMatch = /application=([^&]*)/g.exec(location.search);
        if (!applicationMatch) Y.error('Missing application querystring parameter');
        var caseMatch = /case=([^&]*)/g.exec(location.search);
        if (!caseMatch) Y.error('Missing case querystring parameter');
        var configuration = Y.instantlogic.createBaseConfiguration(Y); 
		new Y.instantlogic.Engine(
			applicationMatch[1], 
			caseMatch[1], 
			travelerId, 
			Y.one('#presence'), 
			Y.one('#place'), 
			configuration
		).start();
	});
</script>

</head>
<body class="yui3-skin-sam">
    <div id="presence">
        One moment..
    </div>
	<div id="place">
	</div>
</body>
</html>