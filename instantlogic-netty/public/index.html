<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Instantlogic-netty test page</title>

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/yui-3.4.1/cssreset/cssreset-min.css">
<link rel="stylesheet" type="text/css" href="/yui-3.4.1/cssfonts/cssfonts-min.css">
<link rel="stylesheet" type="text/css" href="/yui-3.4.1/cssbase/cssbase-min.css">

<link rel="stylesheet" type="text/css" href="/style.css">

<!-- JS -->
<script type="text/javascript" src="/yui-3.4.1/yui/yui.js"></script>
<script type="text/javascript" src="/html.js"></script>
<script type="text/javascript" src="/instantlogic.js"></script>
<script type="text/javascript" src="/instantlogic-fragment.js"></script>

<script type="text/javascript">
	var travelerId = ''+Math.floor(Math.random()*100000000000);

	YUI({filter: 'raw'}).use('instantlogic', 'node', 'instantlogic-fragment', 'html', 'history', function(Y) {
        var applicationMatch = /application=([^&]*)/g.exec(location.search);
        if (!applicationMatch) Y.error('Missing application querystring parameter');
        var caseMatch = /case=([^&]*)/g.exec(location.search);
        if (!caseMatch) Y.error('Missing case querystring parameter');
		new Y.instantlogic.Engine(applicationMatch[1], caseMatch[1], travelerId, Y.one('#instantlogic'), [Y.instantlogic.fragment]).start();
	});
</script>

</head>
<body class="yui3-skin-sam">
	<div id="instantlogic">
		One moment..
	</div>
</body>
</html>